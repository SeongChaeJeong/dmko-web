<!DOCTYPE html>
<html lang="ko">

<!-- Mirrored from abcgroup.co.kr/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 08 Mar 2022 09:53:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
	<meta name="referrer" content="always">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="format-detection" content="telephone=no,address=no,email=no">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
	<!-- No cache -->
	<meta http-equiv="Expires" content="-1">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Cache-Control" content="no-cache; no-store; no-save">
	<!-- Summary -->
	<meta property="og:title" content="DMKO LIGHT">
	<meta property="og:description" content="DMKO LIGHT">
	<title>DMKO LIGHT</title>
	<!--<link rel="shortcut icon" href="../favicon.ico" />-->
	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Noto+Serif+KR">
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Crimson+Text">
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<link rel="stylesheet" type="text/css" href="css/jquery-ui.css">
	<link rel="stylesheet" type="text/css" href="css/swiper.css">   
	<link rel="stylesheet" type="text/css" href="css/style.css">
	
	<!-- Javascript -->
	<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="js/swiper.min.js"></script>
	<script type="text/javascript" src="js/common.js"></script>

	<script type="text/javascript">
		var userAgent = window.navigator.userAgent;
	</script>

</head>
<body>
<div id="wrap">	
	<header id="header" >
		<!-- <div style="width:100%; height:100px; background-color:#ffffff; opacity: 0.3; position: absolute; margin-top:-50px;"></div> -->
		<div class="inner">
			<h1 ><a href="index.html"><img src="images/dmko_logo_new.png" width="200"  height="100"alt="DMKO LIGHT"></a></h1>
			<a href="javascript:mSideBoxOpen();" class="btn-m-gnb-open m-view"></a>
			<div class="page-dim"></div>
			<div class="menu">
				<nav class="gnb-main">
					<ul>
						<li class="active"><a href="index.html">HOME</a></li>
						<li ><a href="about.html">ABOUT US</a></li>
						<li ><a href="project_list.html">PROJECT</a></li>
						<li ><a href="process.html">PROCESS</a></li>
					</ul>
				</nav>
				<a href="javascript:inNavContactBoxOpen();" class="btn-contact crimson m-view">CONTACT US</a>
				<a href="https://blog.naver.com/drmach" target="_blank" class="btn-instagram pc-view"><img src="images/b22.png"  width="33"  height="33" alt="blog"></a>
				<div class="etc m-view">
					<a href="https://blog.naver.com/drmach" target="_blank">INSTAGRAM</a>
				</div>
				<a href="javascript:mSideBoxClose();" class="btn-m-gnb-close m-view"></a>
			</div>
		</div>
	</header>
<style>
html, body, #wrap {width:100%; height:100%;}
</style>

	<div id="container" class="main">
		<!-- 
			slide용도 images 
			* PC와 Mobile의 이미지의 갯수가 같아야 합니다.
		-->
		<div class="hide-image-box">
			<!-- PC용 이미지 URL 모두 출력 -->
			<ul class="pc">
				<li data-image-src="images/dmko1.png"></li>
				<li data-image-src="images/dmko2.png"></li>
				<li data-image-src="images/dmko3.png"></li>
				<li data-image-src="images/dmko4.png"></li>
				<li data-image-src="images/dmko5.png"></li>
			</ul>
			<!-- M용 이미지 URL 모두 출력 -->
			<ul class="mobile">
				<li data-image-src="images/dmko1.png"></li>
				<li data-image-src="images/dmko2.png"></li>
				<li data-image-src="images/dmko3.png"></li>
				<li data-image-src="images/dmko4.png"></li>
				<li data-image-src="images/dmko5.png"></li>
			</ul>
		</div>
		<div class="main-bg swiper-container">
			<ul class="swiper-wrapper">
				<!-- 등록한 이미지 갯수만큼 li 생성 -->
				<!-- <li class="swiper-slide"></li> -->
				<li class="swiper-slide"></li>
				<li class="swiper-slide"></li>
				<li class="swiper-slide"></li>
				<li class="swiper-slide"></li>
				<li class="swiper-slide"></li>
			</ul>
			<div class="swiper-pagination"></div>
		</div>
		
	</div>

<script>
$(function(){
	//메인 배경
	var sliderOptions = {
		direction: 'vertical',
		effect: 'fade',
		fadeEffect: {
			crossFade: true,
		},
		mousewheel: true,
		pagination: {
			el: '.swiper-pagination',
			clickable: true,
		},
		autoplay: {
			delay: 6000,
			disableOnInteraction: false,
		},
		speed: 1000,
	}

	//image swiper
	var swiper;
	var winWidth = $(window).width();
	var pcSliderImgSrcs = [];
	var mSliderImgSrcs = [];
	$('.hide-image-box .pc li').each(function(i){
		var imgSrc = $(this).attr('data-image-src');
		pcSliderImgSrcs.push(imgSrc);
	});
	$('.hide-image-box .mobile li').each(function(i){
		var imgSrc = $(this).attr('data-image-src');
		mSliderImgSrcs.push(imgSrc);
	});
	if(winWidth < 480){
		$('.main-bg ul li').each(function(i){
			$(this).css({
				'background-image': 'url('+ mSliderImgSrcs[i] +')'
			});
		});
	}else{
		$('.main-bg ul li').each(function(i){
			console.log(pcSliderImgSrcs[i])
			$(this).css({
				'background-image': 'url('+ pcSliderImgSrcs[i] +')'
			});
		});

	}
	swiper = new Swiper('.swiper-container', sliderOptions);
	var resizeTimer;
	$(window).resize(function(){
		if(resizeTimer){
			clearTimeout(resizeTimer);
		}
		resizeTime = setTimeout(function(){
			winWidth = $(window).width();
			if(winWidth < 480){
				$('.main-bg ul li').each(function(i){
					$(this).css({
						'background-image': 'url('+ mSliderImgSrcs[i] +')'
					});
				});
			}else{
				$('.main-bg ul li').each(function(i){
					console.log(pcSliderImgSrcs[i])
					$(this).css({
						'background-image': 'url('+ pcSliderImgSrcs[i] +')'
					});
				});
			}
		}, 500);
	});
});
</script>

<script type="text/javascript">

const fields = ["pname", "phone", "company", "sectors", "email", "addr", "area", "const_time", "req_value", "consult_time", "other_text"];
const fieldNames = ["성함", "연락처", "회사명", "업종", "메일", "주소(지역)", "평수", "공사시기", "예산", "상담가능시간"];
const fieldReq = [1, 1, 1, 1, 1, 1, 1, 1, 1, 0];
	
function addContactUs(formData) {

	$.ajax({
		url: "php/request_contactus.php",
		enctype: 'multipart/form-data',
		type: "POST",
		data: formData,
		processData: false,
		contentType: false,
		cache: false,
		timeout: 600000,
		success: function(data){
			alert(data);
			ajaxComplete(data);
			// var json = JSON.parse(data);

			// if(json !=null && json.hasOwnProperty("error")) {
			// 	alert("ERROR: " + json["error"]);
			// } else if(json !=null) {
			// 	ajaxComplete(json);
			// } else {
			// 	alert("알 수 없는 응답입니다.");
			// }
		},
		error: function (request, status, error) {
			alert("ERROR: "+request.responseText);
			
			var msg = "ERROR : " + request.status + "<br>"
			msg +=  + "내용 : " + request.responseText + "<br>" + error;
			console.log(msg);
		}
	  });
}

function getFormValues() {
	var newForm = document.createElement('form');
		
	newForm.name = 'newForm';
	newForm.method = 'post';
	
	// for text
// 	for(i=0; i<fields.length; i++) {
// 		newForm.appendChild($("#"+fields[i])[0].cloneNode(true));
// 	}
	fields.forEach(function loop(element, index, array) {
		newForm.appendChild($("#"+element)[0].cloneNode(true));
	});
	
	// for file
// 	newForm.appendChild($("#concept_pno")[0].cloneNode(true));
// 	newForm.appendChild($("#floorplan_pno")[0].cloneNode(true));
	

	// newForm.append('concept_pno', $("#concept_pno")[0], $("#concept_pno")[0].name);
	// newForm.append('floorplan_pno', $("#floorplan_pno")[0], $("#floorplan_pno")[0].name);

	var data = new FormData(newForm);
	
	return data;
}

function ajaxComplete(data) {
// 	$(".btn-contact-close").trigger("click");
	contactBoxClose();
	
	$("#req")[0].reset();
	
	alert("문의내용이 접수되었습니다.\n검토 후 연락드리겠습니다.\n감사합니다.");
}

function checkFieldsEmtpy() {

	var message = "";
	fields.forEach(function loop(element, index, array) {
		if(loop.stop) { return; }

		if($("#"+element).val()=="" && fieldReq[index] == 1) {
			$("#"+element).focus();
			message = fieldNames[index] + "을(를) 입력해주세요.";
			loop.stop = true;
		}
	});
	
	if(message!="") {
		alert(message);
		return true;
	}
	
	if($("#cprivacy").is(":checked") != true) {
		alert("개인정보 수집에 동의하셔야 등록하실 수 있습니다.");
		return true;
	}

	return false;
}

function saveSubmit() {
	// save ajax
	if(!checkFieldsEmtpy()) {
		addContactUs(getFormValues()); 
	}
}

</script>

	<!-- contact -->
	<section class="contact">
		<div class="inner">
			<a href="javascript:contactBoxOpen();" class="btn-toggle crimson">CONTACT US</a>
			<a href="javascript:contactBoxClose();" class="btn-contact-close"></a>
			<div class="box">
				<div class="visual"></div>
				<div class="form-box">
					<form name="req" id="req">
					<div class="row">
						<input type="text" id="pname" name="pname" placeholder="성함">
						<input type="text" id="phone" name="phone" placeholder="연락처">
					</div>
					<div class="row">
						<input type="text" id="company" name="company" placeholder="회사명">
						<input type="text" id="sectors" name="sectors" placeholder="업종">
					</div>
					<div class="row full">
						<input type="text" id="email" name="email" placeholder="메일">
					</div>
					<div class="row full">
						<input type="text" id="addr" name="addr" placeholder="주소(지역)">
					</div>
					<div class="row">
						<input type="text" id="area" name="area" placeholder="평수">
						<input type="text" id="const_time" name="const_time" placeholder="공사 시기">
					</div>
					<div class="row">
						<input type="text" id="req_value" name="req_value" placeholder="예산">
						<input type="text" id="consult_time" name="consult_time" placeholder="상담 가능 시간">
					</div>
					<!-- <div class="row full attatch-file">
						<input type="file" id="concept_pno" name="concept_pno">
						<input type="text" id="concept_pno_name" name="concept_pno_name" placeholder="컨셉이미지" readonly>
						<label for="concept_pno" class="btn">파일첨부</label>
					</div>
					<p class="alert">* 파일이 여러장일 경우 10MB 이하 압축해서 등록해주세요</p>
					<div class="row full attatch-file">
						<input type="file" id="floorplan_pno" name="floorplan_pno">
						<input type="text" id="floorplan_pno_name" name="floorplan_pno_name" placeholder="기존 평면도 도면" readonly>
						<label for="floorplan_pno" class="btn">파일첨부</label>
					</div>
					<p class="alert">* 파일이 여러장일 경우 10MB 이하 압축해서 등록해주세요</p> -->
					<div class="row full">
						<textarea name="other_text" id="other_text" cols="30" rows="4" placeholder="기타 문의 사항"></textarea>
					</div>
					<div class="row-bottom">
						<label class="agree">
							<input type="checkbox" id="cprivacy" name="cprivacy">
							<span>개인정보수집에 동의합니다.</span>
						</label>
						<a href="javascript:saveSubmit();" class="btn-send">SEND</a>
					</div>
					</form>
				</div>
			</div>
		</div>
	</section> 

</div>

</body>

<!-- Mirrored from abcgroup.co.kr/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 08 Mar 2022 09:53:42 GMT -->
</html>